# [PackageDev] target_format: plist, ext: tmLanguage

name: TODO
scopeName: text.todo
fileTypes: [todo]
uuid: 71393561-0cbc-44fa-a6aa-565c2ff3d2e8

# Define variables
ticket: &ticket
  name: todo.ticket
  match: \#\d+
  comment: Ticket numbers

patterns:
  - name: todo.block
    comment: Container
    begin: "^(?i:TODO):"
    beginCaptures:
      '0': {name: meta.todo.block}
    end: "^:(?i:TODO).*\n"
    endCaptures:
      '0': {name: meta.todo.block}
    patterns:
      - include: $self
      - name: todo.important
        comment: Important task
        begin: ^\s*(\!)[\t ]
        beginCaptures:
          '1': {name: meta.todo.important}
        end: \n
        patterns:
          - include: $self
          - *ticket
      
      - name: todo.open
        comment: Open task
        begin: ^\s*(\-)[\t ]
        beginCaptures:
          '1': {name: meta.todo.open}
        end: \n
        patterns:
          - include: $self
          - *ticket
      
      - name: todo.uncertain
        comment: Questionable task
        begin: ^\s*(\?)[\t ]
        beginCaptures:
          '1': {name: meta.todo.uncertain}
        end: \n
        patterns:
          - include: $self
          - *ticket
      
      - name: todo.ongoing
        comment: Ongoing task
        begin: ^\s*(o)[\t ]
        beginCaptures:
          '1': {name: meta.todo.ongoing}
        end: \n
        patterns:
          - include: $self
          - *ticket
      
      - name: todo.blocked
        comment: Blocked task
        begin: ^\s*(\/)[\t ]
        beginCaptures:
          '1': {name: meta.todo.blocked}
        end: \n
        patterns:
          - include: $self
          - *ticket
      
      - name: todo.done
        comment: Done task
        begin: ^\s*(x)[\t ]
        beginCaptures:
          '1': {name: meta.todo.done}
        end: \n
        patterns:
          - include: $self
          - *ticket
      
      - name: todo.impossible
        comment: Impossible task
        begin: ^\s*(\#)[\t ]
        beginCaptures:
          '1': {name: meta.todo.impossible}
        end: \n
        patterns:
          - include: $self
          - *ticket
